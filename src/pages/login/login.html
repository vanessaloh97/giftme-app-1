<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>    	
    <ion-title>Login</ion-title>
  </ion-navbar>
</ion-header>
<ion-content padding>
	<div *ngIf="!isLogin">
	
		<h3>Login</h3>
		
		<form #loginForm="ngForm" (ngSubmit)="login(loginForm)" >	
			
			<div>			
				<div *ngIf="inemail.invalid && (inemail.dirty || inemail.touched || submitted)" class="errorText">
					<div *ngIf="inemail.errors.required">
						Email is required.
					</div>
					<div *ngIf="inemail.errors.minlength">
						Email must be at least 4 characters long.
					</div>
					<div *ngIf="inemail.errors.maxlength">
						email cannot exceed 50 characters.
					</div>
				</div>
				
				<div *ngIf="inpassword.invalid && (inpassword.dirty || inpassword.touched || submitted)" class="errorText">
					<div *ngIf="inpassword.errors.required">
						Password is required.
					</div>
					<div *ngIf="inpassword.errors.minlength">
						Password must be at least 4 characters long.
					</div>
					<div *ngIf="inpassword.errors.maxlength">
						Password cannot exceed 32 characters.
					</div>
				</div>
				
				<div *ngIf="loginErrorMessage" class="errorText">
					{{loginErrorMessage}}
				</div>				
			</div>

			<ion-list>
				<ion-item>
					<ion-label fixed>Email</ion-label>
					<ion-input type="email" id="email" name="email" [(ngModel)]="email" minlength="4" maxlength="32" required="true" #inemail="ngModel"></ion-input>
				</ion-item>

				<ion-item>
					<ion-label fixed>Password</ion-label>
					<ion-input type="password" id="password" name="password" [(ngModel)]="password" minlength="4" maxlength="32" required="true" #inpassword="ngModel"></ion-input>
				</ion-item>
				
				<ion-item>					
					<button type="submit" ion-button block>
						Login
					</button>
					<button ion-button block (click)="register()"> 
						Sign Up
					</button>					
				</ion-item>
			</ion-list>

		</form>
	</div>
	
	<div *ngIf="isLogin">
		<h3>Welcome Back!</h3>
		You are login as {{firstName}} {{lastName}}

		<button ion-button block (click)="logout()">
			Log out
		</button>
	</div>

</ion-content>
